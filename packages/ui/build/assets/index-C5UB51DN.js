import{r as C,i as D,j as e,P as i,a as l,D as A,b as L,c as F,B as E,C as be,T as oe,u as V,S as Y,H as w,d as K,s as le,e as at,f as fe,q as ee,g as ot,h as st,k as nt,l as lt,m as M,t as je,n as Ce,o as De,p as rt,v as it,w as ct,x as dt,y as ut,z as pt,A as mt,E as ht,F as xt,M as gt,G as ft,I as jt,J as vt,K as yt,X as bt,L as Ct}from"./index-BfWzQ8Ph.js";import{I as Dt}from"./ItemCard-pahKd4xc.js";import{T as St,W as wt}from"./workflow_empty-DTm7oMfh.js";import{L as _t}from"./LoginDialog-Cri4gclr.js";import{T as Se,u as B,M as Tt,a as kt,I as $t,C as Mt}from"./useNotifier-DEurOnvN.js";import{c as se}from"./chatflows-BPz0sNS7.js";import{D as zt,B as k,u as we,S as ne,T as ve,a as Pt}from"./useApi-DNUtCWFw.js";import{M as b,d as Rt}from"./Delete-DmkfIKE_.js";import{S as It,C as Ot,A as Et,a as At,b as Lt}from"./SpeechToText-D-NT13iD.js";import{B as te}from"./ButtonGroup-CLQF0vSA.js";import{G as ye}from"./Skeleton-DKrfqZzy.js";import"./Input-DU8dUV6c.js";import"./CredentialListDialog-MT2gTD_L.js";import"./TooltipWithParser-GKHocS55.js";import"./Dropdown-CU36pm9t.js";import"./Autocomplete-BBd9zFIQ.js";import"./CredentialInputHandler-Bzf0JwLE.js";var re={},Ft=D;Object.defineProperty(re,"__esModule",{value:!0});var _e=re.default=void 0,Vt=Ft(C()),Bt=e,Wt=(0,Vt.default)((0,Bt.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");_e=re.default=Wt;var ie={},qt=D;Object.defineProperty(ie,"__esModule",{value:!0});var Te=ie.default=void 0,Nt=qt(C()),Ht=e,Gt=(0,Nt.default)((0,Ht.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");Te=ie.default=Gt;var ce={},Ut=D;Object.defineProperty(ce,"__esModule",{value:!0});var ke=ce.default=void 0,Yt=Ut(C()),Kt=e,Jt=(0,Yt.default)((0,Kt.jsx)("path",{d:"M18.32 4.26C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zm-1.62 5.9 1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zM13 12V7h-2v5H7l5 5 5-5h-4zm-2 7.93v2.02c-5.05-.5-9-4.76-9-9.95s3.95-9.45 9-9.95v2.02C7.05 4.56 4 7.92 4 12s3.05 7.44 7 7.93z"}),"Downloading");ke=ce.default=Jt;var de={},Xt=D;Object.defineProperty(de,"__esModule",{value:!0});var $e=de.default=void 0,Qt=Xt(C()),ae=e,Zt=(0,Qt.default)([(0,ae.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,ae.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,ae.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");$e=de.default=Zt;var ue={},ea=D;Object.defineProperty(ue,"__esModule",{value:!0});var Me=ue.default=void 0,ta=ea(C()),aa=e,oa=(0,ta.default)((0,aa.jsx)("path",{d:"M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"}),"PictureInPictureAlt");Me=ue.default=oa;var pe={},sa=D;Object.defineProperty(pe,"__esModule",{value:!0});var ze=pe.default=void 0,na=sa(C()),la=e,ra=(0,na.default)((0,la.jsx)("path",{d:"M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm-2 1.13L7.92 12H2V6.21l1.93-1.93L3.36 7H10v.13zM22.5 10h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5zm-.5 7.79-1.93 1.93.57-2.72H14v-.13L16.08 12H22v5.79z"}),"ThumbsUpDownOutlined");ze=pe.default=ra;var me={},ia=D;Object.defineProperty(me,"__esModule",{value:!0});var Pe=me.default=void 0,ca=ia(C()),da=e,ua=(0,ca.default)((0,da.jsx)("path",{d:"M18.92 12c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93zM22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-1 0h-3v-.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V4z"}),"VpnLockOutlined");Pe=me.default=ua;var he={},pa=D;Object.defineProperty(he,"__esModule",{value:!0});var Re=he.default=void 0,ma=pa(C()),ha=e,xa=(0,ma.default)((0,ha.jsx)("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5zm6 6c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"}),"MicNoneOutlined");Re=he.default=xa;var xe={},ga=D;Object.defineProperty(xe,"__esModule",{value:!0});var Ie=xe.default=void 0,fa=ga(C()),ja=e,va=(0,fa.default)((0,ja.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");Ie=xe.default=va;const Oe=({isOpen:t,dialogProps:a,onClose:m,onSubmit:d})=>{const[o,c]=l.useState(""),[s,g]=l.useState([]),f=x=>{c(x.target.value)},_=x=>{x.key==="Enter"&&o.trim()&&(x.preventDefault(),s.includes(o)||(g([...s,o]),c("")))},T=x=>{g(s.filter(r=>r!==x))},$=x=>{x.preventDefault();let r=[...s];o.trim()&&!s.includes(o)&&(r=[...r,o],g(r)),d(r)};return l.useEffect(()=>(a.category&&g(a.category),()=>{c(""),g([])}),[a]),e.jsxs(A,{fullWidth:!0,maxWidth:"xs",open:t,onClose:m,"aria-labelledby":"category-dialog-title","aria-describedby":"category-dialog-description",children:[e.jsx(L,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:"Set Chatflow Category Tags"}),e.jsx(F,{children:e.jsx(E,{children:e.jsxs("form",{onSubmit:$,children:[s.length>0&&e.jsx("div",{style:{marginBottom:10},children:s.map((x,r)=>e.jsx(be,{label:x,onDelete:()=>T(x),style:{marginRight:5,marginBottom:5}},r))}),e.jsx(Se,{sx:{mt:2},fullWidth:!0,value:o,onChange:f,onKeyDown:_,label:"Add a tag",variant:"outlined"}),e.jsx(oe,{variant:"body2",sx:{fontStyle:"italic",mt:1},color:"text.secondary",children:"Enter a tag and press enter to add it to the list. You can add as many tags as you want."})]})})}),e.jsxs(zt,{children:[e.jsx(k,{onClick:m,children:"Cancel"}),e.jsx(k,{variant:"contained",onClick:$,children:"Submit"})]})]})};Oe.propTypes={isOpen:i.bool,dialogProps:i.object,onClose:i.func,onSubmit:i.func};const Ee=({show:t,dialogProps:a,onCancel:m})=>{const d=document.getElementById("portal"),o=V();B(),l.useEffect(()=>(o(t?{type:Y}:{type:w}),()=>o({type:w})),[t,o]);const c=t?e.jsxs(A,{onClose:m,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(L,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title||"Conversation Starter Prompts"}),e.jsx(F,{children:e.jsx(It,{dialogProps:a})})]}):null;return K.createPortal(c,d)};Ee.propTypes={show:i.bool,dialogProps:i.object,onCancel:i.func,onConfirm:i.func};const Ae=({show:t,dialogProps:a,onCancel:m})=>{const d=document.getElementById("portal"),o=V();B(),l.useEffect(()=>(o(t?{type:Y}:{type:w}),()=>o({type:w})),[t,o]);const c=t?e.jsxs(A,{onClose:m,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(L,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title||"Allowed Domains"}),e.jsx(F,{children:e.jsx(Ot,{dialogProps:a})})]}):null;return K.createPortal(c,d)};Ae.propTypes={show:i.bool,dialogProps:i.object,onCancel:i.func,onConfirm:i.func};const Le=({show:t,dialogProps:a,onCancel:m})=>{const d=document.getElementById("portal"),o=V();B(),l.useEffect(()=>(o(t?{type:Y}:{type:w}),()=>o({type:w})),[t,o]);const c=t?e.jsxs(A,{onClose:m,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(L,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title||"Allowed Domains"}),e.jsx(F,{children:e.jsx(Et,{dialogProps:a})})]}):null;return K.createPortal(c,d)};Le.propTypes={show:i.bool,dialogProps:i.object,onCancel:i.func,onConfirm:i.func};const Fe=({show:t,dialogProps:a,onCancel:m})=>{const d=document.getElementById("portal"),o=V();B(),l.useEffect(()=>(o(t?{type:Y}:{type:w}),()=>o({type:w})),[t,o]);const c=t?e.jsxs(A,{onClose:m,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(L,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title||"Allowed Domains"}),e.jsx(F,{children:e.jsx(At,{dialogProps:a})})]}):null;return K.createPortal(c,d)};Fe.propTypes={show:i.bool,dialogProps:i.object,onCancel:i.func,onConfirm:i.func};const ya=le(t=>e.jsx(Tt,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...t}))(({theme:t})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:at(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}));function Ve({chatflow:t,updateFlowsApi:a}){const{confirm:m}=kt(),d=V(),o=we(se.updateChatflow);B();const c=(...p)=>d(nt(...p)),s=(...p)=>d(lt(...p)),[g,f]=l.useState(!1),[_,T]=l.useState(!1),[$,x]=l.useState({}),[r,h]=l.useState(null),z=!!r,[J,W]=l.useState(!1),[q,X]=l.useState({}),[Q,N]=l.useState(!1),[H,G]=l.useState({}),[n,u]=l.useState(!1),[S,Z]=l.useState({}),[ge,P]=l.useState(!1),[R,U]=l.useState({}),We=p=>{h(p.currentTarget)},qe=()=>{h(null)},Ne=()=>{h(null),f(!0)},He=()=>{h(null),X({title:"Starter Prompts - "+t.name,chatflow:t}),W(!0)},Ge=()=>{h(null),G({title:"Chat Feedback - "+t.name,chatflow:t}),N(!0)},Ue=()=>{h(null),Z({title:"Allowed Domains - "+t.name,chatflow:t}),u(!0)},Ye=()=>{h(null),U({title:"Speech To Text - "+t.name,chatflow:t}),P(!0)},Ke=async p=>{const I={name:p,chatflow:t};try{await o.request(t.id,I),await a.request()}catch(j){const v=j.response.data||`${j.response.status}: ${j.response.statusText}`;c({message:v,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:y=>e.jsx(k,{style:{color:"white"},onClick:()=>s(y),children:e.jsx(ee,{})})}})}},Je=()=>{h(null),t.category&&x({category:t.category.split(";")}),T(!0)},Xe=async p=>{T(!1);const j={category:p.join(";"),chatflow:t};try{await o.request(t.id,j),await a.request()}catch(v){const y=v.response.data||`${v.response.status}: ${v.response.statusText}`;c({message:y,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:tt=>e.jsx(k,{style:{color:"white"},onClick:()=>s(tt),children:e.jsx(ee,{})})}})}},Qe=async()=>{h(null);const p={title:"Delete",description:`Delete chatflow ${t.name}?`,confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await m(p))try{await se.deleteChatflow(t.id),await a.request()}catch(j){const v=j.response.data||`${j.response.status}: ${j.response.statusText}`;c({message:v,options:{key:new Date().getTime()+Math.random(),variant:"error",persist:!0,action:y=>e.jsx(k,{style:{color:"white"},onClick:()=>s(y),children:e.jsx(ee,{})})}})}},Ze=()=>{h(null);try{localStorage.setItem("duplicatedFlowData",t.flowData),window.open(`${ot}/canvas`,"_blank")}catch(p){console.error(p)}},et=()=>{h(null);try{const p=JSON.parse(t.flowData);let I=JSON.stringify(st(p),null,2),j="data:application/json;charset=utf-8,"+encodeURIComponent(I),v=`${t.name} Chatflow.json`,y=document.createElement("a");y.setAttribute("href",j),y.setAttribute("download",v),y.click()}catch(p){console.error(p)}};return e.jsxs("div",{children:[e.jsx(k,{id:"demo-customized-button","aria-controls":z?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":z?"true":void 0,disableElevation:!0,onClick:We,endIcon:e.jsx(Ie,{}),children:"Options"}),e.jsxs(ya,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:r,open:z,onClose:qe,children:[e.jsxs(b,{onClick:Ne,disableRipple:!0,children:[e.jsx(_e,{}),"Rename"]}),e.jsxs(b,{onClick:Ze,disableRipple:!0,children:[e.jsx(Te,{}),"Duplicate"]}),e.jsxs(b,{onClick:et,disableRipple:!0,children:[e.jsx(ke,{}),"Export"]}),e.jsx(fe,{sx:{my:.5}}),e.jsxs(b,{onClick:He,disableRipple:!0,children:[e.jsx(Me,{}),"Starter Prompts"]}),e.jsxs(b,{onClick:Ge,disableRipple:!0,children:[e.jsx(ze,{}),"Chat Feedback"]}),e.jsxs(b,{onClick:Ue,disableRipple:!0,children:[e.jsx(Pe,{}),"Allowed Domains"]}),e.jsxs(b,{onClick:Ye,disableRipple:!0,children:[e.jsx(Re,{}),"Speech To Text"]}),e.jsxs(b,{onClick:Je,disableRipple:!0,children:[e.jsx($e,{}),"Update Category"]}),e.jsx(fe,{sx:{my:.5}}),e.jsxs(b,{onClick:Qe,disableRipple:!0,children:[e.jsx(Rt,{}),"Delete"]})]}),e.jsx(Lt,{show:g,dialogProps:{title:"Rename Chatflow",confirmButtonName:"Rename",cancelButtonName:"Cancel"},onCancel:()=>f(!1),onConfirm:Ke}),e.jsx(Oe,{isOpen:_,dialogProps:$,onClose:()=>T(!1),onSubmit:Xe}),e.jsx(Ee,{show:J,dialogProps:q,onCancel:()=>W(!1)}),e.jsx(Ae,{show:Q,dialogProps:H,onCancel:()=>N(!1)}),e.jsx(Le,{show:n,dialogProps:S,onCancel:()=>u(!1)}),e.jsx(Fe,{show:ge,dialogProps:R,onCancel:()=>P(!1)})]})}Ve.propTypes={chatflow:i.object,updateFlowsApi:i.object};const O=le(M)(({theme:t})=>({[`&.${je.head}`]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},[`&.${je.body}`]:{fontSize:14}})),ba=le(Ce)(({theme:t})=>({"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}})),Be=({data:t,images:a,filterFunction:m,updateFlowsApi:d})=>{const o=De(),c=s=>{o(`/canvas/${s.id}`)};return e.jsx(e.Fragment,{children:e.jsx(rt,{style:{marginTop:"30",border:1},component:it,children:e.jsxs(ct,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[e.jsx(dt,{children:e.jsxs(Ce,{sx:{marginTop:"10",backgroundColor:"primary"},children:[e.jsx(O,{component:"th",scope:"row",style:{width:"20%"},children:"Name"},"0"),e.jsx(O,{style:{width:"25%"},children:"Category"},"1"),e.jsx(O,{style:{width:"30%"},children:"Nodes"},"2"),e.jsx(O,{style:{width:"15%"},children:"Last Modified Date"},"3"),e.jsx(O,{style:{width:"10%"},children:"Actions"},"4")]})}),e.jsx(ut,{children:t.filter(m).map((s,g)=>e.jsxs(ba,{children:[e.jsx(M,{children:e.jsx(oe,{sx:{fontSize:"1.2rem",fontWeight:500,overflowWrap:"break-word",whiteSpace:"pre-line"},children:e.jsx(k,{onClick:()=>c(s),sx:{textAlign:"left"},children:s.templateName||s.name})})},"0"),e.jsx(M,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:[" ",s.category&&s.category.split(";").map((f,_)=>e.jsx(be,{label:f,style:{marginRight:5,marginBottom:5}},_))]})},"1"),e.jsx(M,{children:a[s.id]&&e.jsxs("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:[a[s.id].slice(0,a[s.id].length>5?5:a[s.id].length).map(f=>e.jsx("div",{style:{width:35,height:35,marginRight:5,borderRadius:"50%",backgroundColor:"white",marginTop:5},children:e.jsx("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:f})},f)),a[s.id].length>5&&e.jsxs(oe,{sx:{alignItems:"center",display:"flex",fontSize:".8rem",fontWeight:200},children:["+ ",a[s.id].length-5," More"]})]})},"2"),e.jsx(M,{children:pt(s.updatedDate).format("MMMM Do, YYYY")},"3"),e.jsx(M,{children:e.jsx(ne,{direction:{xs:"column",sm:"row"},spacing:1,justifyContent:"center",alignItems:"center",children:e.jsx(Ve,{chatflow:s,updateFlowsApi:d})})},"4")]},g))})]})})})};Be.propTypes={data:i.array,images:i.object,filterFunction:i.func,updateFlowsApi:i.object};const Fa=()=>{var H,G;const t=De(),a=mt(),m=ht(n=>n.customization),[d,o]=l.useState(!0),[c,s]=l.useState({}),[g,f]=l.useState(""),[_,T]=l.useState(!1),[$,x]=l.useState({}),r=we(se.getAllChatflows),[h,z]=l.useState(localStorage.getItem("flowDisplayStyle")||"card"),J=(n,u)=>{u!==null&&(localStorage.setItem("flowDisplayStyle",u),z(u))},W=n=>{f(n.target.value)};function q(n){return n.name.toLowerCase().indexOf(g.toLowerCase())>-1||n.category&&n.category.toLowerCase().indexOf(g.toLowerCase())>-1}const X=(n,u)=>{localStorage.setItem("username",n),localStorage.setItem("password",u),t(0)},Q=()=>{t("/canvas")},N=n=>{t(`/canvas/${n.id}`)};return l.useEffect(()=>{r.request()},[]),l.useEffect(()=>{var n,u;r.error&&((u=(n=r.error)==null?void 0:n.response)==null?void 0:u.status)===401&&(x({title:"Login",confirmButtonName:"Login"}),T(!0))},[r.error]),l.useEffect(()=>{o(r.loading)},[r.loading]),l.useEffect(()=>{if(r.data)try{const n=r.data,u={};for(let S=0;S<n.length;S+=1){const Z=n[S].flowData,P=JSON.parse(Z).nodes||[];u[n[S].id]=[];for(let R=0;R<P.length;R+=1){const U=`${xt}/api/v1/node-icon/${P[R].data.name}`;u[n[S].id].includes(U)||u[n[S].id].push(U)}}s(u)}catch(n){console.error(n)}},[r.data]),e.jsxs(gt,{sx:{background:m.isDarkMode?a.palette.common.black:""},children:[e.jsxs(ne,{flexDirection:"column",children:[e.jsx(E,{sx:{flexGrow:1},children:e.jsxs(ft,{disableGutters:!0,style:{margin:1,padding:1,paddingBottom:10,display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx("h1",{children:"Chatflows"}),e.jsx(Se,{size:"small",sx:{display:{xs:"none",sm:"block"},ml:3},variant:"outlined",placeholder:"Search name or category",onChange:W,InputProps:{startAdornment:e.jsx($t,{position:"start",children:e.jsx(jt,{})})}}),e.jsx(E,{sx:{flexGrow:1}}),e.jsxs(te,{sx:{maxHeight:40},disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:[e.jsx(te,{disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:e.jsxs(St,{sx:{maxHeight:40},value:h,color:"primary",exclusive:!0,onChange:J,children:[e.jsx(ve,{sx:{color:(H=a==null?void 0:a.customization)!=null&&H.isDarkMode?"white":"inherit"},variant:"contained",value:"card",title:"Card View",children:e.jsx(vt,{})}),e.jsx(ve,{sx:{color:(G=a==null?void 0:a.customization)!=null&&G.isDarkMode?"white":"inherit"},variant:"contained",value:"list",title:"List View",children:e.jsx(yt,{})})]})}),e.jsx(E,{sx:{width:5}}),e.jsx(te,{disableElevation:!0,"aria-label":"outlined primary button group",children:e.jsx(Pt,{variant:"contained",onClick:Q,startIcon:e.jsx(bt,{}),children:"Add New"})})]})]})}),!d&&(!h||h==="card")&&r.data&&e.jsx(ye,{container:!0,spacing:Ct,children:r.data.filter(q).map((n,u)=>e.jsx(ye,{item:!0,lg:3,md:4,sm:6,xs:12,children:e.jsx(Dt,{onClick:()=>N(n),data:n,images:c[n.id]})},u))}),!d&&h==="list"&&r.data&&e.jsx(Be,{sx:{mt:20},data:r.data,images:c,filterFunction:q,updateFlowsApi:r})]}),!d&&(!r.data||r.data.length===0)&&e.jsxs(ne,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[e.jsx(E,{sx:{p:2,height:"auto"},children:e.jsx("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:wt,alt:"WorkflowEmptySVG"})}),e.jsx("div",{children:"No Chatflows Yet"})]}),e.jsx(_t,{show:_,dialogProps:$,onConfirm:X}),e.jsx(Mt,{})]})};export{Fa as default};
