import{Q as z,U as _,s as G,_ as p,a as u,W as H,Y as V,bQ as j,j as s,Z as A,$ as W,e as O,cb as it,aj as rt,cc as lt,bH as ct,bF as X,ah as dt,P as m,E as pt,T as ut,aG as mt,B as xt,aH as bt,aB as T,O as E,F as gt,bY as ht}from"./index-BfWzQ8Ph.js";import{S as vt,F as Z,I as ft,O as yt,P as It}from"./useApi-DNUtCWFw.js";function Ct(t){return _("MuiListItem",t)}const jt=z("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),f=jt;function At(t){return _("MuiListItemSecondaryAction",t)}z("MuiListItemSecondaryAction",["root","disableGutters"]);const St=["className"],Lt=t=>{const{disableGutters:e,classes:a}=t;return W({root:["root",e&&"disableGutters"]},At,a)},Rt=G("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.disableGutters&&e.disableGutters]}})(({ownerState:t})=>p({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),K=u.forwardRef(function(e,a){const n=H({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=V(n,St),l=u.useContext(j),i=p({},n,{disableGutters:l.disableGutters}),c=Lt(i);return s.jsx(Rt,p({className:A(c.root,r),ownerState:i,ref:a},o))});K.muiName="ListItemSecondaryAction";const wt=K,$t=["className"],Nt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Ft=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters,!a.disablePadding&&e.padding,a.button&&e.button,a.hasSecondaryAction&&e.secondaryAction]},kt=t=>{const{alignItems:e,button:a,classes:n,dense:r,disabled:o,disableGutters:l,disablePadding:i,divider:c,hasSecondaryAction:x,selected:h}=t;return W({root:["root",r&&"dense",!l&&"gutters",!i&&"padding",c&&"divider",o&&"disabled",a&&"button",e==="flex-start"&&"alignItemsFlexStart",x&&"secondaryAction",h&&"selected"],container:["container"]},Ct,n)},Ot=G("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ft})(({theme:t,ownerState:e})=>p({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&p({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${it.root}`]:{paddingRight:48}},{[`&.${f.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${f.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:O(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${f.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:O(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${f.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${f.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:O(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:O(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Vt=G("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Gt=u.forwardRef(function(e,a){const n=H({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:o=!1,button:l=!1,children:i,className:c,component:x,components:h={},componentsProps:S={},ContainerComponent:L="li",ContainerProps:{className:R}={},dense:w=!1,disabled:y=!1,disableGutters:I=!1,disablePadding:$=!1,divider:d=!1,focusVisibleClassName:N,secondaryAction:q,selected:et=!1,slotProps:st={},slots:ot={}}=n,at=V(n.ContainerProps,$t),nt=V(n,Nt),D=u.useContext(j),M=u.useMemo(()=>({dense:w||D.dense||!1,alignItems:r,disableGutters:I}),[r,D.dense,w,I]),B=u.useRef(null);rt(()=>{o&&B.current&&B.current.focus()},[o]);const v=u.Children.toArray(i),Y=v.length&&lt(v[v.length-1],["ListItemSecondaryAction"]),F=p({},n,{alignItems:r,autoFocus:o,button:l,dense:M.dense,disabled:y,disableGutters:I,disablePadding:$,divider:d,hasSecondaryAction:Y,selected:et}),Q=kt(F),J=ct(B,a),k=ot.root||h.Root||Ot,C=st.root||S.root||{},b=p({className:A(Q.root,C.className,c),disabled:y},nt);let g=x||"li";return l&&(b.component=x||"div",b.focusVisibleClassName=A(f.focusVisible,N),g=dt),Y?(g=!b.component&&!x?"div":g,L==="li"&&(g==="li"?g="div":b.component==="li"&&(b.component="div")),s.jsx(j.Provider,{value:M,children:s.jsxs(Vt,p({as:L,className:A(Q.container,R),ref:J,ownerState:F},at,{children:[s.jsx(k,p({},C,!X(k)&&{as:g,ownerState:p({},F,C.ownerState)},b,{children:v})),v.pop()]}))})):s.jsx(j.Provider,{value:M,children:s.jsxs(k,p({},C,{as:g,ref:J},!X(k)&&{ownerState:p({},F,C.ownerState)},b,{children:[v,q&&s.jsx(wt,{children:q})]}))})}),U=Gt;function Mt(t){return _("MuiListItemAvatar",t)}z("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Bt=["className"],Tt=t=>{const{alignItems:e,classes:a}=t;return W({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Mt,a)},Et=G("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>p({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),Ut=u.forwardRef(function(e,a){const n=H({props:e,name:"MuiListItemAvatar"}),{className:r}=n,o=V(n,Bt),l=u.useContext(j),i=p({},n,{alignItems:l.alignItems}),c=Tt(i);return s.jsx(Et,p({className:A(c.root,r),ownerState:i,ref:a},o))}),P=Ut,Pt="/assets/robot-CdlpHV-J.png",zt="/assets/chathistory-iygi9HAP.png",tt=({availableNodesForVariable:t,disabled:e=!1,onSelectAndReturnVal:a})=>{const n=pt(o=>o.customization),r=(o,l)=>{const c=`{{${o?`${o.id}.data.instance`:l}}}`;a(c)};return s.jsx(s.Fragment,{children:!e&&s.jsxs("div",{style:{flex:30},children:[s.jsx(vt,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:s.jsx(ut,{variant:"h5",children:"Select Variable"})}),s.jsx(mt,{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:s.jsx(xt,{sx:{pl:2,pr:2},children:s.jsxs(bt,{children:[s.jsx(T,{sx:{p:0,borderRadius:`${n.borderRadius}px`,boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:e,onClick:()=>r(null,"question"),children:s.jsxs(U,{alignItems:"center",children:[s.jsx(P,{children:s.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:s.jsx("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:Pt})})}),s.jsx(E,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),s.jsx(T,{sx:{p:0,borderRadius:`${n.borderRadius}px`,boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:e,onClick:()=>r(null,"chat_history"),children:s.jsxs(U,{alignItems:"center",children:[s.jsx(P,{children:s.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:s.jsx("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:zt})})}),s.jsx(E,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map((o,l)=>{const i=o.data.outputAnchors[0].options.find(c=>c.name===o.data.outputs.output);return s.jsx(T,{sx:{p:0,borderRadius:`${n.borderRadius}px`,boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:e,onClick:()=>r(o),children:s.jsxs(U,{alignItems:"center",children:[s.jsx(P,{children:s.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:s.jsx("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:o.data.name,src:`${gt}/api/v1/node-icon/${o.data.name}`})})}),s.jsx(E,{sx:{ml:1},primary:o.data.inputs.chainName??o.data.inputs.functionName??o.data.inputs.variableName??o.data.id,secondary:o.data.name==="ifElseFunction"?`${o.data.description}`:`${(i==null?void 0:i.label)??"output"} from ${o.data.label}`})]})},l)})]})})})]})})};tt.propTypes={availableNodesForVariable:m.array,disabled:m.bool,onSelectAndReturnVal:m.func};const _t=({inputParam:t,value:e,nodes:a,edges:n,nodeId:r,onChange:o,disabled:l=!1})=>{const[i,c]=u.useState(e??""),[x,h]=u.useState(null),[S,L]=u.useState([]),R=u.useRef(null),w=!!x,y=()=>{h(null)},I=d=>{const N=i+d.substring(2);o(N),c(N)},$=d=>{switch(d){case"string":return"text";case"password":return"password";case"number":return"number";default:return"text"}};return u.useEffect(()=>{if(!l&&a&&n&&r&&t){const d=t!=null&&t.acceptVariable?ht(a,n,r,t.id):[];L(d)}},[l,t,a,n,r]),u.useEffect(()=>{typeof i=="string"&&i&&i.endsWith("{{")&&h(R.current)},[i]),s.jsxs(s.Fragment,{children:[t.name==="note"?s.jsx(Z,{sx:{width:"100%",height:"auto"},size:"small",children:s.jsx(ft,{id:r,size:"small",disabled:l,type:$(t.type),placeholder:t.placeholder,multiline:!!t.rows,minRows:t.rows??1,value:i,name:t.name,onChange:d=>{c(d.target.value),o(d.target.value)},inputProps:{step:t.step??1,style:{border:"none",background:"none",color:"#212121"}},sx:{border:"none",background:"none",padding:"10px 14px",textarea:{"&::placeholder":{color:"#616161"}}}})}):s.jsx(Z,{sx:{mt:1,width:"100%"},size:"small",children:s.jsx(yt,{id:t.name,size:"small",disabled:l,type:$(t.type),placeholder:t.placeholder,multiline:!!t.rows,rows:t.rows??1,value:i,name:t.name,onChange:d=>{c(d.target.value),o(d.target.value)},inputProps:{step:t.step??1,style:{height:t.rows?"90px":"inherit"}}})}),s.jsx("div",{ref:R}),(t==null?void 0:t.acceptVariable)&&s.jsx(It,{open:w,anchorEl:x,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:s.jsx(tt,{disabled:l,availableNodesForVariable:S,onSelectAndReturnVal:d=>{I(d),y()}})})]})};_t.propTypes={inputParam:m.object,value:m.oneOfType([m.string,m.number]),onChange:m.func,disabled:m.bool,nodes:m.array,edges:m.array,nodeId:m.string};export{_t as I,U as L,tt as S,P as a,Pt as r};
