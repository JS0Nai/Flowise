import{A as B,E as N,a as n,j as t,M as y,B as u,a9 as D,X as k,L as E}from"./index-BfWzQ8Ph.js";import{I as P}from"./ItemCard-pahKd4xc.js";import{T as I}from"./tools_empty-CipbKgm6.js";import{u as F,S as p,B as G,a as M}from"./useApi-DNUtCWFw.js";import{T as R,t as b}from"./ToolDialog-Cz8QW869.js";import{G as i}from"./Skeleton-DKrfqZzy.js";import"./Autocomplete-BBd9zFIQ.js";import"./useNotifier-DEurOnvN.js";import"./Delete-DmkfIKE_.js";import"./TooltipWithParser-GKHocS55.js";import"./CodeEditor-DGLnL6g5.js";const H=()=>{const x=B(),h=N(e=>e.customization),o=F(b.getAllTools),[g,a]=n.useState(!1),[f,l]=n.useState({}),c=n.useRef(null),j=e=>{try{const s={title:"Add New Tool",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:JSON.parse(e)};l(s),a(!0)}catch(s){console.error(s)}},T=e=>{if(!e.target.files)return;const s=e.target.files[0],d=new FileReader;d.onload=r=>{var m;if(!((m=r==null?void 0:r.target)!=null&&m.result))return;const{result:A}=r.target;j(A)},d.readAsText(s)},C=()=>{l({title:"Add New Tool",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),a(!0)},S=e=>{l({title:"Edit Tool",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:e}),a(!0)},w=()=>{a(!1),o.request()};return n.useEffect(()=>{o.request()},[]),t.jsxs(t.Fragment,{children:[t.jsxs(y,{sx:{background:h.isDarkMode?x.palette.common.black:""},children:[t.jsxs(p,{flexDirection:"row",children:[t.jsx("h1",{children:"Tools"}),t.jsxs(i,{sx:{mb:1.25},container:!0,direction:"row",children:[t.jsx(u,{sx:{flexGrow:1}}),t.jsxs(i,{item:!0,children:[t.jsx(G,{variant:"outlined",sx:{mr:2},onClick:()=>c.current.click(),startIcon:t.jsx(D,{}),children:"Load"}),t.jsx("input",{ref:c,type:"file",hidden:!0,accept:".json",onChange:e=>T(e)}),t.jsx(M,{variant:"contained",sx:{color:"white"},onClick:C,startIcon:t.jsx(k,{}),children:"Create"})]})]})]}),t.jsx(i,{container:!0,spacing:E,children:!o.loading&&o.data&&o.data.map((e,s)=>t.jsx(i,{item:!0,lg:3,md:4,sm:6,xs:12,children:t.jsx(P,{data:e,onClick:()=>S(e)})},s))}),!o.loading&&(!o.data||o.data.length===0)&&t.jsxs(p,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[t.jsx(u,{sx:{p:2,height:"auto"},children:t.jsx("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:I,alt:"ToolEmptySVG"})}),t.jsx("div",{children:"No Tools Created Yet"})]})]}),t.jsx(R,{show:g,dialogProps:f,onCancel:()=>a(!1),onConfirm:w})]})};export{H as default};
